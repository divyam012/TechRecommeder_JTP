<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tech Product Recommendation</title>
</head>
<body>
    <h2>Get Tech Product Recommendations</h2>
    <form id="recommendForm">
        <label for="device">Device Type:</label>
        <select id="device" name="device">
            <option value="laptop">Laptop</option>
            <option value="phone">Phone</option>
        </select><br><br>

        <label for="budget">Budget (INR):</label>
        <input type="number" id="budget" name="budget" required><br><br>

        <label for="usage">Usage Type:</label>
        <input type="text" id="usage" name="usage" required placeholder="e.g. gaming, business"><br><br>

        <button type="submit">Get Recommendations</button>
    </form>

    <h3>Recommendations:</h3>
    <pre id="result"></pre>

    <script>
    document.getElementById('recommendForm').addEventListener('submit', async function(e) {
        e.preventDefault();

        const device = document.getElementById('device').value;
        const budget = parseInt(document.getElementById('budget').value);
        const usage = document.getElementById('usage').value;

        const response = await fetch("http://127.0.0.1:8080/recommend", {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: new URLSearchParams({
                device_type: device,
                budget: budget,
                usage_type: usage
            })
        });

        const resultText = await response.text();
        document.getElementById('result').innerHTML = resultText;
    });
</script>

</body>
</html>
